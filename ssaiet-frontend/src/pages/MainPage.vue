<template>
  <div>
    <h1>๋ฉ์ธ ํ์ด์ง</h1>

    <!-- ๐ฅ ๋ก๊ทธ์ธํ ์ฌ์ฉ์ UI -->
    <div v-if="authStore.isLoggedIn">
      <p>{{ authStore.user?.name }}๋ ํ์ํฉ๋๋ค!</p>

      <!-- ๐ฅ ๋ด ํ๋กํ ๋ณด๊ธฐ ๋ฒํผ -->
      <button @click="$router.push('/profile')">
        ๋ด ํ๋กํ ๋ณด๊ธฐ
      </button>

      <!-- ๋ก๊ทธ์์ ๋ฒํผ -->
      <button @click="logout">๋ก๊ทธ์์</button>
    </div>

    <!-- ๐ฅ ๋น๋ก๊ทธ์ธ ์ฌ์ฉ์ UI -->
    <div v-else>
      <p>๋ก๊ทธ์ธํ๋ฉด ๊ฐ์ธ ๋ง์ถค ๊ธฐ๋ฅ์ ์ฌ์ฉํ ์ ์์ด์!</p>

      <button @click="$router.push('/login')">๋ก๊ทธ์ธ</button>
      <button @click="$router.push('/signup')">ํ์๊ฐ์</button>
    </div>
  </div>
</template>

<script setup>
import { useAuthStore } from "@/stores/auth"
import { useRouter } from "vue-router"

const authStore = useAuthStore()
const router = useRouter()

// ๋ก๊ทธ์์ ๊ธฐ๋ฅ
const logout = () => {
  authStore.logOut()
  router.push("/")   // ๋ก๊ทธ์์ ํ ๋ฉ์ธ์ผ๋ก ์ด๋
}
</script>