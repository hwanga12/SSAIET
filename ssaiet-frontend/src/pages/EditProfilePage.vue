<template>
  <div class="page">
    <h1>í”„ë¡œí•„ ìˆ˜ì •</h1>

    <div class="form">
      <label>ì´ë¦„</label>
      <input v-model="profile.name">

      <label>í‚¤(cm)</label>
      <input type="number" v-model.number="profile.height">

      <label>í˜„ì¬ ì²´ì¤‘(kg)</label>
      <input type="number" v-model.number="profile.current_weight">

      <label>ëª©í‘œ ì²´ì¤‘(kg)</label>
      <input type="number" v-model.number="profile.target_weight">

      <label>ê³¨ê²©ê·¼ëŸ‰</label>
      <input type="number" v-model.number="profile.muscle_mass">

      <label>ì²´ì§€ë°©ë¥ </label>
      <input type="number" v-model.number="profile.body_fat">

      <label>ë‚˜ì´</label>
      <input type="number" v-model.number="profile.age">

      <label>ì„±ë³„</label>
      <input v-model="profile.gender">

      <label>ì•Œë ˆë¥´ê¸°</label>
      <input v-model="profile.allergies">
    </div>

    <button @click="save">ì €ì¥í•˜ê¸°</button>
  </div>
</template>

<script setup>
import { reactive } from "vue"
import { useAuthStore } from "@/stores/auth"

const auth = useAuthStore()

// ğŸ”¥ í˜„ì¬ ìœ ì € ì •ë³´ ê¸°ë°˜ìœ¼ë¡œ ì´ˆê¸°ê°’ ì„¤ì •
const profile = reactive({ ...auth.user })

const save = async () => {
  await auth.updateProfile(profile)
  alert("í”„ë¡œí•„ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤!")
}
</script>

<style scoped>
.page { width: 330px; margin: 30px auto; }
.form { display: flex; flex-direction: column; gap: 8px; margin-bottom: 15px; }
input { padding: 6px; }
button { padding: 8px; cursor: pointer; width: 100%; }
</style>