<template>
  <header class="navbar">
    <!-- ğŸ”¥ ì™¼ìª½: ë¡œê³  (í•­ìƒ ë³´ì„) -->
    <div class="navbar-left" @click="goHome">
      <img
        src="@/assets/SSAIET_LOGO.png"
        alt="SSAIET Logo"
        class="logo-img"
      />
    </div>

    <!-- ğŸ”¥ ë¡œê·¸ì¸í•œ ì‚¬ìš©ì -->
    <nav class="navbar-right" v-if="authStore.isLoggedIn">
      <button @click="goProfile">ë‚´ í”„ë¡œí•„</button>
      <button @click="goSettings">ê³„ì • ì„¤ì •</button>
      <button class="logout" @click="logout">ë¡œê·¸ì•„ì›ƒ</button>
    </nav>

    <!-- ğŸ”¥ ë¹„ë¡œê·¸ì¸ ì‚¬ìš©ì -->
    <nav class="navbar-right" v-else>
      <button @click="goLogin">ë¡œê·¸ì¸</button>
      <button @click="goSignup">íšŒì›ê°€ì…</button>
    </nav>
  </header>
</template>


<script setup>
import { useRouter } from "vue-router"
import { useAuthStore } from "@/stores/auth"

const router = useRouter()
const authStore = useAuthStore()

/* ë¡œê³  í´ë¦­ â†’ ë¬´ì¡°ê±´ ë©”ì¸ */
const goHome = () => {
  if (router.currentRoute.value.path !== "/") {
    router.push("/")
  }
}

const goProfile = () => {
  router.push("/profile")
}

const goSettings = () => {
  router.push("/settings")
}

const logout = () => {
  authStore.logOut()
  router.replace("/")
}

const goLogin = () => {
  router.push("/login")
}

const goSignup = () => {
  router.push("/signup")
}

</script>

<style scoped>
/* ğŸ”¥ Navbar ì „ì²´ */

/* ì™¼ìª½ ë¡œê³  ì˜ì—­ */
.navbar-left {
  display: flex;
  align-items: center;
  cursor: pointer;
}

/* ğŸ”¥ ë¡œê³  ì´ë¯¸ì§€ í¬ê²Œ */
.logo-img {
  height: 48px;
  margin-bottom: 6px;   /* â¬…ï¸ ë¡œê³  ì•„ë˜ ê³µê°„ */
}

/* ğŸ”¥ Navbar ì „ì²´ */
.navbar {
  height: 50px;                 /* ì—¬ê¸°ì„œ ìµœì¢… ë†’ì´ ê²°ì • */
  padding: 0 24px 10px;
  background-color: #ffffff;
  border-bottom: 1px solid #e5e7eb;

  display: flex;
  align-items: center;
  justify-content: space-between;

  font-family:
    -apple-system,
    BlinkMacSystemFont,
    "Inter",
    "Pretendard",
    "Apple SD Gothic Neo",
    sans-serif;
}

.navbar-right button {
  background: none;
  border: none;
  font-size: 18px;
  font-weight: 500;
  letter-spacing: -0.01em;
  color: #374151;
  cursor: pointer;
  padding: 6px 8px;
  border-radius: 6px;
  transition: color 0.2s ease, background-color 0.2s ease;
}

.navbar-right button:hover {
  background-color: #f3f4f6;
  color: #111827;
}

.logout {
  color: #dc2626;
  font-weight: 600;
}

.logout:hover {
  background-color: #fee2e2;
}

</style>